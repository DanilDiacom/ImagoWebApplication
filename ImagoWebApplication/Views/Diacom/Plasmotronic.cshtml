@{
    ViewData["Title"] = "Plasmotronic";
}

@{
    var images = ViewBag.Images as List<Dictionary<string, string>>;
    var filteredImages = images?.Where(img => img["EntryKey"].Contains("PLASMOTRONIC")).ToList() ?? new List<Dictionary<string, string>>();
}

<link rel="stylesheet" href="~/css/plasma.css" asp-append-version="true" />

<div class="container mt-5">
    <div class="row d-flex justify-content-start">
        <!-- Image Carousel -->
        <div class="col-md-6 carousel-container">
            @if (filteredImages.Count > 0)
            {
                <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">

                        @for (int i = 0; i < filteredImages.Count; i++){

                            <div class="carousel-item @(i == 0 ? "active" : "")">
                                <img src="data:image/png;base64,@filteredImages[i]["Base64"]" class="d-block w-100">
                            </div>
                        }
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </button>
                </div>
            }
            else {
                <p style="text-align:center;">Omlouvám se, došlo k chybě při načítání obrázků.</p>
            }
        </div>

        <!-- Product Details -->
        <div class="col-md-6 d-flex align-items-center">
            <div>
                <h1 class="text-center mb-4" data-key="Plasmotronic_Title" style="margin-left:50px; margin-top: -15px; margin-bottom:40px;">
                    @ViewBag.Entries["Plasmotronic_Title"]
                </h1>
                <ul class="list-group">
                    <li class="list-group-item" data-key="Plasmotronic_Weight_Label" data-value="Plasmotronic_Weight_Value">
                        <strong data-key="Plasmotronic_Weight_Label">@ViewBag.Entries["Plasmotronic_Weight_Label"]</strong>
                        <span data-value="Plasmotronic_Weight_Value">@ViewBag.Entries["Plasmotronic_Weight_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Plasmotronic_Dimensions_Label" data-value="Plasmotronic_Dimensions_Value">
                        <strong data-key="Plasmotronic_Dimensions_Label">@ViewBag.Entries["Plasmotronic_Dimensions_Label"]</strong>
                        <span data-value="Plasmotronic_Dimensions_Value">@ViewBag.Entries["Plasmotronic_Dimensions_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Plasmotronic_TouchScreen_Label" data-value="Plasmotronic_TouchScreen_Value">
                        <strong data-key="Plasmotronic_TouchScreen_Label">@ViewBag.Entries["Plasmotronic_TouchScreen_Label"]</strong>
                        <span data-value="Plasmotronic_TouchScreen_Value">@ViewBag.Entries["Plasmotronic_TouchScreen_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Plasmotronic_TubeLife_Label" data-value="Plasmotronic_TubeLife_Value">
                        <strong data-key="Plasmotronic_TubeLife_Label">@ViewBag.Entries["Plasmotronic_TubeLife_Label"]</strong>
                        <span data-value="Plasmotronic_TubeLife_Value">@ViewBag.Entries["Plasmotronic_TubeLife_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Plasmotronic_FrequencyRange_Label" data-value="Plasmotronic_FrequencyRange_Value">
                        <strong data-key="Plasmotronic_FrequencyRange_Label">@ViewBag.Entries["Plasmotronic_FrequencyRange_Label"]</strong>
                        <span data-value="Plasmotronic_FrequencyRange_Value">@ViewBag.Entries["Plasmotronic_FrequencyRange_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Plasmotronic_Voltage_Label" data-value="Plasmotronic_Voltage_Value">
                        <strong data-key="Plasmotronic_Voltage_Label">@ViewBag.Entries["Plasmotronic_Voltage_Label"]</strong>
                        <span data-value="Plasmotronic_Voltage_Value">@ViewBag.Entries["Plasmotronic_Voltage_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Plasmotronic_PowerConsumption_Label" data-value="Plasmotronic_PowerConsumption_Value">
                        <strong data-key="Plasmotronic_PowerConsumption_Label">@ViewBag.Entries["Plasmotronic_PowerConsumption_Label"]</strong>
                        <span data-value="Plasmotronic_PowerConsumption_Value">@ViewBag.Entries["Plasmotronic_PowerConsumption_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Plasmotronic_Languages_Label" data-value="Plasmotronic_Languages_Value">
                        <strong data-key="Plasmotronic_Languages_Label">@ViewBag.Entries["Plasmotronic_Languages_Label"]</strong>
                        <span data-value="Plasmotronic_Languages_Value">@ViewBag.Entries["Plasmotronic_Languages_Value"]</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Product Description -->
    <div class="home-body-container">
        <div class="container">
            @if (ViewBag.Entries.ContainsKey("PlasmaPopisHeader"))
            {
                <h2 data-key="PlasmaPopisHeader" style="margin-top: 20px; text-align:center">
                    @ViewBag.Entries["PlasmaPopisHeader"]
                </h2>
            }

            @if (ViewBag.Entries.ContainsKey("PlasmaPopisText"))
            {
                <div class="text-container" data-key="PlasmaPopisText">
                    <p>
                        @ViewBag.Entries["PlasmaPopisText"]
                    </p>
                </div>
            }

            @if (ViewBag.Entries.ContainsKey("PlasmaPopisTextFirst"))
            {
                <div class="text-container" data-key="PlasmaPopisTextFirst">
                    <p>
                        @ViewBag.Entries["PlasmaPopisTextFirst"]
                    </p>
                </div>
            }

            @if (ViewBag.Entries.ContainsKey("PlasmaPopisTextSecond"))
            {
                <div class="text-container" data-key="PlasmaPopisTextSecond">
                    <p>
                        @ViewBag.Entries["PlasmaPopisTextSecond"]
                    </p>
                </div>
            }

            @if (ViewBag.Entries.ContainsKey("PlasmaPopisTextTird"))
            {
                <div class="text-container" data-key="PlasmaPopisTextTird">
                    <p>
                        @ViewBag.Entries["PlasmaPopisTextTird"]
                    </p>
                </div>
            }

            @if (ViewBag.Entries.ContainsKey("PlasmaPopisTextFour"))
            {
                <div class="text-container" data-key="PlasmaPopisTextFour">
                    <p>
                        @ViewBag.Entries["PlasmaPopisTextFour"]
                    </p>
                </div>
            }
        </div>
    </div>
</div>