@{
    ViewData["Title"] = "DIACOM ENERSCAN";
}

@{
    var images = ViewBag.Images as List<Dictionary<string, string>>;
    var filteredImages = images?
        .Where(img => img["EntryKey"].Contains("ENERSCAN_"))
        .ToList() ?? new List<Dictionary<string, string>>();
}

<link rel="stylesheet" href="~/css/enerscan.css" asp-append-version="true" />

<div class="container mt-5">

    <div class="row d-flex justify-content-start" style="margin-top: 20px; margin-bottom:20px;">
        <!-- Image Carousel -->
        <div class="col-md-6 carousel-container">
            @if (filteredImages.Count > 0)
            {
                <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        @for (int i = 0; i < filteredImages.Count; i++)
                        {
                            <div class="carousel-item @(i == 0 ? "active" : "")">
                                <img src="data:image/png;base64,@filteredImages[i]["Base64"]" class="d-block w-100">
                            </div>
                        }
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </button>
                </div>
            }
            else {
                <p style="text-align:center;">Omlouvám se, došlo k chybě při načítání obrázků.</p>
            }
        </div>

        <!-- Product Details -->
        <div class="col-md-6 d-flex align-items-center">
            <div>
                <h1 class="text-center" style="margin-bottom: 10px; margin-top: -15px;" data-key="DiacomEnerscan_Device_Title">
                    @ViewBag.Entries["DiacomEnerscan_Device_Title"]
                </h1>
                <ul class="list-group">
                    <li class="list-group-item" data-key="Weight_Label" data-value="Weight_Value">
                        <strong data-key="Weight_Label">@ViewBag.Entries["Weight_Label"]</strong>
                        <span data-value="Weight_Value">@ViewBag.Entries["Weight_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Dimensions_Label" data-value="Dimensions_Value">
                        <strong data-key="Dimensions_Label">@ViewBag.Entries["Dimensions_Label"]</strong>
                        <span data-value="Dimensions_Value">@ViewBag.Entries["Dimensions_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="TouchScreen_Label" data-value="TouchScreen_Value">
                        <strong data-key="TouchScreen_Label">@ViewBag.Entries["TouchScreen_Label"]</strong>
                        <span data-value="TouchScreen_Value">@ViewBag.Entries["TouchScreen_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="TubeLife_Label" data-value="TubeLife_Value">
                        <strong data-key="TubeLife_Label">@ViewBag.Entries["TubeLife_Label"]</strong>
                        <span data-value="TubeLife_Value">@ViewBag.Entries["TubeLife_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="FrequencyRange_Label" data-value="FrequencyRange_Value">
                        <strong data-key="FrequencyRange_Label">@ViewBag.Entries["FrequencyRange_Label"]</strong>
                        <span data-value="FrequencyRange_Value">@ViewBag.Entries["FrequencyRange_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Voltage_Label" data-value="Voltage_Value">
                        <strong data-key="Voltage_Label">@ViewBag.Entries["Voltage_Label"]</strong>
                        <span data-value="Voltage_Value">@ViewBag.Entries["Voltage_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="PowerConsumption_Label" data-value="PowerConsumption_Value">
                        <strong data-key="PowerConsumption_Label">@ViewBag.Entries["PowerConsumption_Label"]</strong>
                        <span data-value="PowerConsumption_Value">@ViewBag.Entries["PowerConsumption_Value"]</span>
                    </li>
                    <li class="list-group-item" data-key="Languages_Label" data-value="Languages_Value">
                        <strong data-key="Languages_Label">@ViewBag.Entries["Languages_Label"]</strong>
                        <span data-value="Languages_Value">@ViewBag.Entries["Languages_Value"]</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Product Description -->

    <div class="home-body-container">
        <div class="container">
            @if (ViewBag.Entries.ContainsKey("enerscan_header"))
            {
                <h2 data-key="enerscan_header" style="margin-top: 20px; text-align:center">
                    @ViewBag.Entries["enerscan_header"]
                </h2>
            }

            @if (ViewBag.Entries.ContainsKey("EnerscanPopisText"))
            {
                <div class="text-container" data-key="EnerscanPopisText" style="margin-top: 20px; font-size: 20px; text-align: justify; padding: 0 15px; max-width: 1150px; margin-right: auto; margin-left: auto;">
                    <p>
                        @ViewBag.Entries["EnerscanPopisText"]
                    </p>
                </div>
            }

            @if (ViewBag.Entries.ContainsKey("EnerscanPopisTextFirst"))
            {
                <div class="text-container" data-key="EnerscanPopisTextFirst" style="margin-top: 20px; font-size: 20px; text-align: justify; padding: 0 15px; max-width: 1150px; margin-right: auto; margin-left: auto;">
                    <p>
                        @ViewBag.Entries["EnerscanPopisTextFirst"]
                    </p>
                </div>
            }

            @if (ViewBag.Entries.ContainsKey("EnerscanPopisTextSecond"))
            {
                <div class="text-container" data-key="EnerscanPopisTextSecond" style="margin-top: 20px; font-size: 20px; text-align: justify; padding: 0 15px; max-width: 1150px; margin-right: auto; margin-left: auto;">
                    <p>
                        @ViewBag.Entries["EnerscanPopisTextSecond"]
                    </p>
                </div>
            }
            @if (ViewBag.Entries.ContainsKey("EnerscanPopisTextTird"))
            {
                <div class="text-container" data-key="EnerscanPopisTextTird" style="margin-top: 20px; font-size: 20px; text-align: justify; padding: 0 15px; max-width: 1150px; margin-right: auto; margin-left: auto;">
                    <p>
                        @ViewBag.Entries["EnerscanPopisTextTird"]
                    </p>
                </div>
            }
            @if (ViewBag.Entries.ContainsKey("EnerscanPopisTextFour"))
            {
                <div class="text-container" data-key="EnerscanPopisTextFour" style="margin-top: 20px; font-size: 20px; text-align: justify; padding: 0 15px; max-width: 1150px; margin-right: auto; margin-left: auto;">
                    <p>
                        @ViewBag.Entries["EnerscanPopisTextFour"]
                    </p>
                </div>
            }
        </div>
    </div>
</div>
